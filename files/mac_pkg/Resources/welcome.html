<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Welcome to El Fary</title>
  <style>
    .previewPage {
      margin: 64px auto;
      width: 920px;
    }
  </style>
</head>
<body>
  <div class="page">
    <div class="previewPage">
    <div id="readme" class="announce md">
      <article class="markdown-body entry-content">
        <h1>ElFari</h1>

<h2>What is this?</h2>

<p>Just what the world needs, an IRC bot. A quite clumsy one.</p>

<h2>What does?</h2>

<p>Very little indeed. Mostly it annoys people by playing music from youtube and shouting  out  loud crappy jokes (Spanish only) in the office. Sometimes also annoys people on Twitter.</p>

<h2>Installation</h2>

<p>VLC is the preferred player</p>

<p>Look for some packages in the <b>releases tab</b>. Bear in mind this disclaimer: `This is just a pet project to provide some kind of "jukebox" to the office.`</p>

<p>If you choose to install using packages the installation path is <b>`/opt/elfari`</b>. Currently sudo privileges are required: <b>`sudo /opt/elfari/bin/elfari`</b> should be enough to run it if you choose `VLC` as your player</p>

<p>Sensible defaults for VLC and *nix are provided.</p>

<pre><code>git clone git@github.com:ssedano/elfari

cd elfari &amp;&amp; bundle install

ruby elfari.rb
</code></pre>

<p>Tune <code>config/config.yml</code> file and run either the <code>run.sh</code> or <code>elfari.rb</code>.</p>

<h2>Configuration</h2>

<p>Recommended line to launch <code>VLC</code>:</p>

<pre><code>vlc -vvv --ignore-config -I lua --lua-intf cli --no-video --lua-config "rc={host='0.0.0.0:4000',flat
playlist=0}"
</code></pre>

<h2>Note on players</h2>

<p>There are three supported players:</p>

<ul>
<li>MPlayer (does not support native streaming).</li>
<li>VLC (When streaming, and duplicating the channel to local the volume is desactivated).</li>
<li>MPD (Playing some flv from youtube a few songs won't start playing due to a bad choice of decoder
plugin made by MPD. Even a fewer number MPD will try to format them to whatever the value is set in
your config thus incurring in several <i>ALSA underrun on device </i> which outputs a very unpleasan
t noise).</li>
</ul><h2>Commands</h2>

<p>The most rewarding ones are:</p>

<ul>
<li>aluego some crappy song</li>
<li>
<p>Queries youtube API for videos containing the terms "some crappy song". Then it simply adds to the<br>
playlist the first one.</p>

<ul>
<li>ponme er some crappy song</li>
<li><p>Plays, if any, a song which title contains the terms "some crappy song".</p></li>
<li><p>ponme argo</p></li>
<li><p>Plays a random song from the database</p></li>
<li><p>apunta <a href="http://youtu.be/video">http://youtu.be/video</a></p></li>
<li><p>Adds that crappy song that you love to the song database</p></li>
<li><p>genardo dice here comes a tweet</p></li>
<li><p>Tweet using the credentials the status "here comes a tweet".</p></li>
<li><p>genardo alecciona</p></li>
<li>This command accepts parameters. Search for a tweet with the parameters (if no parameters, just an
y tweet), sends its words to Google Spell Checker API, substitute all coincidences with the first co
rrection, then sends the corrected tweet to its original author. Note that here I use the term "corr
ected" very lightly, most of the times it just fails miserably correcting it.</li>
</ul>
</li>
</ul><h2>Troubleshooting</h2>

<p>Every now and then <code>youtube downloader</code> need to be updated. Do so by issuing this command (*NIX):</p>

<pre><code>sudo youtube-dl -U
</code></pre>

<p><code>VLC</code> can also be launched in a console and <code>ElFari</code> will connect to it instead of starting an insta<br>
nce. This is useful to see the output of <code>VLC</code>.</p>

<h2>License</h2>

<p>The original project (which I owe a PR) was created by <a href="https://github.com/rubiojr">rubiojr</a>.</p>

<p>His work has his license. Mine is under the <a href="http://en.wikipedia.org/wiki/Beerware">Beerware License</a>.</p>
      </article>
    </div>
  </div>

  <div>&nbsp;</div>
  </div>
</body>
</html>
